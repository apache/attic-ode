<process xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://schemas.xmlsoap.org/ws/2004/03/business-process/ ../../../../../../../bpel-schemas/src/main/resources/wsbpel_main-draft-Apr-29-2006.xsd"
	xmlns:tns="http://ode/bpel/unit-test/TestXPathNamespace1"
	xmlns:wns="http://ode/bpel/unit-test/TestXPathNamespace1.wsdl"
	targetNamespace="http://ode/bpel/unit-test/TestXPathNamespace1"
	xmlns:types1="http://ode/bpel/unit-test/TestXPathNamespace1.wsdl.types1"
	xmlns:prb="http://ode/bpel/unit-test/ProbeService.wsdl"
	xmlns="http://schemas.xmlsoap.org/ws/2004/03/business-process/"
	name="TestXPathNamespace1"
	queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"
	expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"
	suppressJoinFailure="yes">
	
	<import location="TestXPathNamespace1.wsdl"
		namespace="http://ode/bpel/unit-test/TestXPathNamespace1.wsdl"
		importType="http://schemas.xmlsoap.org/wsdl/" />
	<import location="../ProbeService/probeService.wsdl"
		namespace="http://ode/bpel/unit-test/ProbeService.wsdl"
		importType="http://schemas.xmlsoap.org/wsdl/"/>
	
	
	<!-- test namespace syntax within XPATH expression -->
	<partnerLinks>
		<partnerLink name="request" partnerLinkType="wns:TestXPathNamespace1Request" myRole="TestXPathNamespace1Service"/>
		<partnerLink name="probe" partnerLinkType="wns:probeRequest" partnerRole="probeService"  initializePartnerRole="yes"/>
	</partnerLinks>
	<variables>
		<variable name="request" messageType="wns:requestMessage1"/>
		<variable name="probeInput" messageType="prb:probeMessage"/>
		<variable name="reply" messageType="wns:replyMessage1"/>
	</variables>
	<sequence>
		<receive name="receive1" partnerLink="request" portType="wns:TestXPathNamespace1PT" operation="request" variable="request" createInstance="yes"> </receive>
		<!-- Copy input variables to internal accumulators -->
		<assign name="assign1">
			<copy>
				<from>$request.requestMessageData/requestID</from>
				<to variable="reply" part="replyID"/>
			</copy>
			<copy>
				<from xmlns:foo="http://ode/bpel/unit-test/TestXPathNamespace1.wsdl.types1">$request.requestMessageData/typeIndicators/foo:indicatorTwo</from>
				<to variable="reply" part="replyText"/>
			</copy>
			<copy>
				<from>$request.requestMessageData/typeIndicators/types1:indicatorTwo</from>
				<to variable="reply" part="replyText"/>
			</copy>
			<copy>
				<from>
					<literal><![CDATA[pass]]></literal>
				</from>
				<to variable="reply" part="replyText"/>
			</copy>
		</assign>
		<reply name="reply" partnerLink="request" portType="wns:TestXPathNamespace1PT" operation="request" variable="reply"> </reply>
	</sequence>
</process>

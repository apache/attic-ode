<process name="HelloXslWorld" 
    targetNamespace="http://pxe/bpel/unit-test" 
    xmlns:bpws="http://schemas.xmlsoap.org/ws/2004/03/business-process/"
    xmlns="http://schemas.xmlsoap.org/ws/2004/03/business-process/"
    xmlns:tns="http://pxe/bpel/unit-test"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:types="http://pxe/bpel/types"
    xmlns:test="http://pxe/bpel/unit-test.wsdl"
    queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"
    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0">

    <import location="HelloXslWorld.wsdl"
        namespace="http://pxe/bpel/unit-test.wsdl"
        importType="http://schemas.xmlsoap.org/wsdl/"/>
    
    <partnerLinks>
        <partnerLink name="helloXslPartnerLink" 
            partnerLinkType="test:HelloXslPartnerLinkType" 
            myRole="me" />
    </partnerLinks>
        
    <variables>
        <variable name="myVar" messageType="test:HelloXslMessage"/>
        <variable name="otherVar" messageType="test:HelloXslMessage"/>
    </variables>
            
    <sequence>   
        <receive 
            name="start"
            partnerLink="helloXslPartnerLink"
            portType="test:HelloXslPortType"
            operation="helloXsl"
            variable="myVar"
            createInstance="yes"/>
        <assign name="assign1">
            <copy>
                <from variable="myVar" part="TestPart"/>
                <to variable="otherVar" part="TestPart"/>
            </copy>
            <copy>
                <from>'Xsl'</from>
                <to>$otherVar.TestPart</to>
            </copy>
            <copy>
                <from>
                    bpws:doXslTransform("HelloXslWorld.xsl", $myVar.TestPart, 'middle', $otherVar.TestPart)
                </from>
                <to variable="myVar" part="TestPart"/>
            </copy>
        </assign>
        <reply name="end"  
                partnerLink="helloXslPartnerLink"
                portType="test:HelloXslPortType" 
                operation="helloXsl"
                variable="myVar"/>
    </sequence>
    
</process>

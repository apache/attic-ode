<?xml version="1.0"?>
<!--
	Pick will be used to create process instance. Very basic test.
-->
<process name="pick3_CreateInstance"
  targetNamespace="http://pxe/bpel/unit-test"
  xmlns:bpws="http://schemas.xmlsoap.org/ws/2004/03/business-process/"
  xmlns="http://schemas.xmlsoap.org/ws/2004/03/business-process/"
  xmlns:tns="http://pxe/bpel/unit-test"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
  xmlns:test="http://pxe/bpel/unit-test.wsdl"
  suppressJoinFailure="yes">

  <import namespace="http://pxe/bpel/unit-test.wsdl"
    importType="http://schemas.xmlsoap.org/wsdl/"
    location="./Pick3-2.0.wsdl" />

  <partnerLinks>
    <partnerLink name="testPartnerLink"
      partnerLinkType="test:TestPartnerLinkType"
      myRole="me" />
  </partnerLinks>

  <variables>
    <variable name="var1" messageType="test:PickMessage"/>
  </variables>

  <sequence>
    <pick name="pick1" createInstance="yes">
      <onMessage partnerLink="testPartnerLink"
        portType="test:TestPortType"
        operation="pickOp1"
        variable="var1">
        <assign>
          <copy>
            <from>'onMessage'</from>
            <to>$var1/DataPart</to>
          </copy>
        </assign>
      </onMessage>
    </pick>
    <reply name="endReply"
      operation="pickOp1"
      partnerLink="testPartnerLink"
      portType="test:TestPortType"
      variable="var1"/>
  </sequence>
</process>

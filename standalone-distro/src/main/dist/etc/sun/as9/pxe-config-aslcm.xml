<?xml version="1.0"?>
 
<kconfig xmlns="http://www.fivesight.com/pxe/kconfig/">
  <!-- <classpath type="url">file:<pxe-home/>/bin/kernel-boot.jar</classpath>  -->
  <classpath type="url">file:<pxe-home/>/etc/</classpath>  
  <classpath type="jarDir"><pxe-home/>/pxe-lib</classpath>
  <classpath type="jarDir"><pxe-home/>/lib</classpath>
  
  <!-- Imports are used in turn to try to locate classes given using the "class"
       attribute -->
  <import package="com.fs.pxe.kernel.modrmi"/>
  <import package="com.fs.pxe.kernel.modsfwk" />
  <import package="com.fs.pxe.kernel.modhibernatedao" />
  <import package="com.fs.pxe.kernel.modbpellog" />

  <kmodule name="com.fivesight.pxe:mod=RmiRegistry" class="ModRmiRegistry">
	  <attribute name="port"><getProperty name="pxe.registry.port" default="@PXE_RMI_PORT@" /></attribute>
  </kmodule>

  <kmodule name="com.fivesight.pxe:mod=BpelLogger" class="ModBpelEventLogger"/>
  
  <kmodule name="com.fivesight.pxe:mod=HibernateDAO" class="ModHibernateDAO">
    <attribute name="bpelStateStoreConnectionFactory">bpel_sscf</attribute>
    <attribute name="stateStoreConnectionFactory">sscf</attribute>
    <attribute name="transactionManager">java:appserver/TransactionManager</attribute>
    <attribute name="dataSource">jdbc/pxe-ds__pm</attribute>
    <attribute name="hibernateProperties">file:<pxe-home/>/etc/hibernate.properties</attribute>
  </kmodule>
  
  <!-- Begin definition of service providers MUST PROCEED ModSfwk -->  
  
  <kmodule name="com.fivesight.pxe:mod=ServiceProvider,name=HttpSoap" class="ModSvcProvider">
	<attribute name="JndiName">HttpSoapSP</attribute>
	<attribute name="TransactionManagerName">java:appserver/TransactionManager</attribute>
	<attribute name="ProviderClass">com.fs.pxe.httpsoap.HttpSoapAdapter</attribute>
	<attribute name="ProviderURI">uri:protocoladapter.soap</attribute>
  </kmodule>
  
  <kmodule name="com.fivesight.pxe:mod=ServiceProvider,name=Bpel" class="ModSvcProvider">
	<attribute name="JndiName">BpelSP</attribute>
	<attribute name="TransactionManagerName">java:appserver/TransactionManager</attribute>
	<attribute name="ProviderClass">com.fs.pxe.bpel.provider.BpelServiceProvider</attribute>
	<attribute name="ProviderURI">uri:bpelProvider</attribute>
	<attribute name="ProviderProperties">stateStoreConnectionFactory=bpel_sscf</attribute>
  </kmodule>
  
  <kmodule name="com.fivesight.pxe:mod=ServiceProvider,name=Transformer" class="ModSvcProvider">
	<attribute name="JndiName">XsltSP</attribute>
	<attribute name="TransactionManagerName">java:appserver/TransactionManager</attribute>
	<attribute name="ProviderClass">com.fs.pxe.xcontrib.sp.xslt.XSLTServiceProvider</attribute>
	<attribute name="ProviderURI">uri:xsltServiceProvider</attribute>
  </kmodule>
  
  <kmodule name="com.fivesight.pxe:mod=ServiceProvider,name=Native" class="ModSvcProvider">
	<attribute name="JndiName">NativeSP</attribute>
	<attribute name="TransactionManagerName">java:appserver/TransactionManager</attribute>
	<attribute name="ProviderClass">com.fs.pxe.xcontrib.sp.rpc.RpcAdapter</attribute>
	<attribute name="ProviderURI">uri:protocoladapter.native.inbound</attribute>
  </kmodule>
  
  <kmodule name="com.fivesight.pxe:mod=PXE" class="ModSfwk">
    <attribute name="domainId"><getProperty name="pxe.domain" default="@PXE_DOMAIN@"/></attribute>
    <attribute name="registryPort"><getProperty name="pxe.registry.port" default="@PXE_RMI_PORT@"/></attribute>
    <attribute name="transactionManager">java:appserver/TransactionManager</attribute>
    <attribute name="DAOConnectionFactory">sscf</attribute>
	<attribute name="SvcProviderJndiBindings">HttpSoapSP,BpelSP,XsltSP,NativeSP</attribute>
  </kmodule>
  
</kconfig>

